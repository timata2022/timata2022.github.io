var T=Object.defineProperty,B=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var $=(e,t,s)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,v=(e,t)=>{for(var s in t||(t={}))M.call(t,s)&&$(e,s,t[s]);if(C)for(var s of C(t))V.call(t,s)&&$(e,s,t[s]);return e},b=(e,t)=>B(e,P(t));import{r as g,o as a,c as d,a as k,b as r,w as A,v as N,t as h,F as _,d as I,e as f,p as E,f as w,n as O,g as y,h as W,i as F,j as U,k as j,l as H,m as J,q as z,s as q}from"./vendor.99852b30.js";const G=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};G();var p=(e,t)=>{const s=e.__vccOpts||e;for(const[c,n]of t)s[c]=n;return s};const Y={};function K(e,t,s,c,n,i){const o=g("RouterView");return a(),d("main",null,[k(o)])}var X=p(Y,[["render",K],["__scopeId","data-v-971738bc"]]);const Q={components:{},created(){this.$store.commit("addDuration");let e=JSON.parse(JSON.stringify(this.$store.state.routineList.filter(t=>t.show==!0)));this.routineListWithAddedCycles=e.map(t=>Object.assign(t,{cycles:1}))},beforeUnmount(){},data(){return{input:"",routineListWithAddedCycles:null,durationValue:60}},watch:{durationValue(){}},computed:{routineList:function(){return this.$store.state.routineList},exerciseList:function(){return this.$store.state.exercise},getRoutePathName:function(){return this.$route.fullPath},filteredList:function(){return this.routineListWithAddedCycles.filter(e=>this.routineListWithAddedCycles.length?Object.keys(this.routineListWithAddedCycles[0]).some(t=>(""+e[t]).split(" ").join("").toLowerCase().includes(this.input.split(" ").join("").toLowerCase())):!0)},filterListWithDuration:function(){return this.$store.commit("addDuration"),this.filteredList.filter(e=>e.duration*e.cycles<=this.durationValue)}},methods:{cycleClickChange(e,t){this.routineListWithAddedCycles.forEach(s=>{s.id==t&&(e=="down"?s.cycles<=1?s.cycles=1:s.cycles-=1:e=="up"&&(s.cycles>=10?s.cycles=10:s.cycles+=1))})},changeCycles(e,t){let s=e.target.value;s=="0"||s==""||s===null||s=="string"?this.$refs[t+"playbtn"][0].disabled=!0:(this.$refs[t+"playbtn"][0].disabled=!1,this.routineListWithAddedCycles.forEach(c=>{c.id==t&&(c.cycles=Number(s))}))},newRoutineRouterLink(e,t){this.$router.push({name:"create",params:{id:e,blockName:t}})},editRoutineRouterLink(e,t){this.$router.push({name:"details",params:{id:e,blockName:t}})},startRoutineRouterLink(e,t,s){this.$router.push({name:"exercise",params:{id:e,blockName:t,cycles:s}})}}},Z=e=>(E("data-v-c299c0b4"),e=e(),w(),e),ee={class:"header"},te=Z(()=>r("button",{id:"hamburger-btn"},null,-1)),se={class:"container"},ie={class:"content-container"},re={class:"search-routine"},ne={class:"search-duration"},oe={id:"duration-label",for:"Duration"},ce={key:0,class:"list-container"},le={class:"info"},ae={class:"info"},de={class:"button-input-row"},ue={class:"input-cycles-container"},he=["onClick"],me=["value","v-model","onInput"],xe=["onClick"],pe=["onClick"],fe=["onClick"],ge={id:"create"};function _e(e,t,s,c,n,i){return a(),d(_,null,[r("div",ee,[r("button",{id:"timata-icon",onClick:t[0]||(t[0]=o=>e.$router.push("/"))}),te]),r("div",se,[r("div",ie,[r("div",re,[A(r("input",{id:"search-btn",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.input=o),placeholder:"  Search Routine"},null,512),[[N,n.input]]),r("div",ne,[A(r("input",{type:"range",min:"5",max:"60",name:"Duration",id:"Duration",step:"5",onClick:t[2]||(t[2]=(...o)=>e.testMethod&&e.testMethod(...o)),"onUpdate:modelValue":t[3]||(t[3]=o=>n.durationValue=o)},null,512),[[N,n.durationValue]]),r("label",oe,h(n.durationValue),1)])]),i.filterListWithDuration?(a(),d("table",ce,[(a(!0),d(_,null,I(i.filterListWithDuration,(o,m)=>(a(),d("tr",{class:"list-item",key:o.id},[r("td",null,[r("h2",le,h(i.filterListWithDuration[m].blockName),1),r("p",null,h(i.filterListWithDuration[m].cycle),1),r("h2",ae,h(this.$store.getters.calculateRoutineTimeByRoutineId(o.id)*o.cycles)+" Minutes ",1)]),r("div",de,[r("div",ue,[r("span",{onClick:l=>i.cycleClickChange("down",o.id),class:"down-a"},null,8,he),r("input",{class:"input-cycles",min:"1",max:"10",type:"number",value:o.cycles,"v-model":o.cycles,onInput:l=>i.changeCycles(l,o.id)},null,40,me),r("span",{onClick:l=>i.cycleClickChange("up",o.id),class:"up-a"},null,8,xe)]),r("button",{class:"routine-btns",id:"edit-btn",onClick:l=>i.editRoutineRouterLink(o.id,o.blockName)},null,8,pe),r("button",{class:"routine-btns start-btn",ref_for:!0,ref:o.id+"playbtn",onClick:l=>i.startRoutineRouterLink(o.id,o.blockName,o.cycles)},null,8,fe)])]))),128))])):f("",!0),r("div",ge,[r("button",{class:"create-btn",onClick:t[4]||(t[4]=o=>i.newRoutineRouterLink(0,"new"))})])])])],64)}var ye=p(Q,[["render",_e],["__scopeId","data-v-c299c0b4"]]);const ve={props:{timerIsRunning:{type:Boolean},circleindex:{type:Number,default:1},activeindex:{type:Number,default:1},exercise:{type:Object,default:null}},methods:{},computed:{circleStyles(){return this.exercise.blockName=="Rest"?{height:"0.8rem",width:"0.8rem"}:{}},intervalActive(){return this.activeindex===this.circleindex},intervalDone(){return this.activeindex>this.circleindex?"tranparent-color":"full-color"},handleCircleStyles(){return this.intervalActive&&this.timerIsRunning?"pulse-button":""},playPauseDisabled(){return(this.exercise.blockName=="Prepare"||this.exercise.blockName=="Recovery")&&this.intervalActive&&this.timerIsRunning?"/active-line.svg":(this.exercise.blockName=="Prepare"||this.exercise.blockName=="Recovery")&&this.intervalActive&&!this.timerIsRunning?"/pause-line.svg":(this.exercise.blockName=="Prepare"||this.exercise.blockName=="Recovery")&&!this.intervalActive?"/disabled-line.svg":this.intervalActive&&this.timerIsRunning?"/active-circle.svg":this.intervalActive&&!this.timerIsRunning?"/pause-circle.svg":(this.intervalActive,"/disabled-circle.svg")}}},be={class:"circle-item-space-around"},ke=["src"];function Ee(e,t,s,c,n,i){return a(),d("div",be,[r("img",{alt:"exercise",src:i.playPauseDisabled,style:O(i.circleStyles),class:y(i.handleCircleStyles+" "+i.intervalDone)},null,14,ke)])}var we=p(ve,[["render",Ee],["__scopeId","data-v-1e86aef4"]]);const Re={components:{},created(){},mounted(){},beforeUnmount(){},data(){return{timeIntervalTestSetByProp:null,timeLimit:null,timePassed:null,timerInterval:null,alertThreshold:2,warningThreshold:4,pauseThreshold:!0,hideOrShow:!0}},props:{countDownInterval:{type:Number,default:0},countDownSec:{type:Number,default:0},timerIsRunning:{type:Boolean}},watch:{countDownInterval:{immediate:!0,deep:!0,handler(e,t){this.forceRerender(),this.timeLimit=e}}},methods:{forceRerender(){this.hideOrShow=!1,this.$nextTick(()=>{this.hideOrShow=!0})}},computed:{formattedTimeLeft(){const e=this.timeLeft,t=Math.floor(e/60);let s=e%60;return s<10&&(s=`0${s}`),`${t}:${s}`},timeLeft(){return this.countDownSec},circleDasharray(){return`${(this.timeFraction*283).toFixed(0)} 283`},timeFraction(){const e=this.timeLeft/this.timeLimit;return e-1/this.timeLimit*(1-e)},colorCodes(){return{info:{color:this.timerIsRunning?"darkBlue":"red"},warning:{color:"orange",threshold:this.warningThreshold},alert:{color:"lightBlue",threshold:this.alertThreshold},paused:{color:"red",threshold:this.pauseThreshold}}},remainingPathColor(){const{alert:e,warning:t,info:s,paused:c}=this.colorCodes;return this.timeLeft<=e.threshold?this.timerIsRunning?e.color:c.color:this.timeLeft<=t.threshold?this.timerIsRunning?t.color:c.color:this.timerIsRunning?s.color:c.color}}},Ae=e=>(E("data-v-0b9358b2"),e=e(),w(),e),Ie={key:0,class:"base-timer"},Ne={class:"svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Ce={class:"circle"},$e=Ae(()=>r("circle",{class:"path-elapsed",cx:"50",cy:"50",r:"45"},null,-1)),Se=["stroke-dasharray"],Le={class:"label"};function Oe(e,t,s,c,n,i){return n.hideOrShow?(a(),d("div",Ie,[(a(),d("svg",Ne,[r("g",Ce,[$e,r("path",{"stroke-dasharray":i.circleDasharray,class:y([i.remainingPathColor,"path-remaining"]),d:`
      M 50, 50
      m -45, 0
      a 45,45 0 1,0 90,0
      a 45,45 0 1,0 -90,0
    `},null,10,Se)])])),r("span",Le,h(i.formattedTimeLeft),1)])):f("",!0)}var De=p(Re,[["render",Oe],["__scopeId","data-v-0b9358b2"]]),Te="/assets/timata-logo.af43bffb.svg";const Be={props:{show:{type:Boolean,default:!1},title:{type:String,default:"Good job!.."},description:{type:String,default:"Description missing"},stay:{type:Function,default:null},go:{type:Function,default:null}}},Pe=e=>(E("data-v-34b5bcfe"),e=e(),w(),e),Me={class:"overlay"},Ve={class:"dialog scale-in-center"},We={class:"dialog__content"},Fe=["textContent"],Ue=Pe(()=>r("img",{class:"jello-horizontal",src:Te,alt:"timata logo"},null,-1)),je=["textContent"],He={class:"buttons"};function Je(e,t,s,c,n,i){return A((a(),d("div",Me,[r("div",Ve,[r("div",We,[r("h1",{textContent:h(s.title),class:"dialog__title"},null,8,Fe),Ue,r("h2",{textContent:h(s.description)},null,8,je),r("div",He,[r("button",{class:"buttons",onClick:t[0]||(t[0]=(...o)=>s.go&&s.go(...o))},"Routines"),r("button",{class:"buttons",onClick:t[1]||(t[1]=(...o)=>s.stay&&s.stay(...o))},"Stay")])])])],512)),[[W,s.show]])}var ze=p(Be,[["render",Je],["__scopeId","data-v-34b5bcfe"]]);let u;const qe={components:{ExerciseCircle:we,CircleTimer:De,FinishedExerciseDialog:ze},created(){u=this,this.$watch(()=>this.$route.params.id,e=>{this.$route.params.id=="temp"?this.initData(this.$route.params.id):this.$store.getters.checkIfRoutineExists(e)?this.initData(""):this.doesRoutineExist=!1},{immediate:!0}),window.addEventListener("resize",this.screenSizeEvent)},mounted(){this.totalWidthCircles=this.$refs.exercise.reduce((e,t)=>e+t.clientWidth,0),this.initialScreenSizeEvent(window.innerWidth)},beforeUnmount(){this.timerIsRunning&&this.$timer.stop("exerciseTimer")},unmounted(){window.removeEventListener("resize",this.screenSizeEvent)},timers:{exerciseTimer:{time:1e3,autostart:!0,repeat:!0,isSwitchTab:!0}},data(){return{doesRoutineExist:!0,exerciseArrayIds:null,exerciseArray:null,tempaArr:null,totalCounter:null,counterInSeconds:null,currentExercise:null,circleTimerInSeconds:null,totalWidthCircles:null,centerOrNot:null,showDialog:!1,pos:{top:0,left:0,x:0,y:0}}},methods:{exerciseTimer(){u.doesRoutineExist||u.$timer.stop("exerciseTimer"),u.counterInSeconds--,u.totalCounter--,u.counterInSeconds==0&&u.totalCounter!=0&&(this.$timer.stop("exerciseTimer"),u.prepareNextExercise(),this.startNextExercise()),u.totalCounter<=0&&u.finishWorkout()},prepareNextExercise(){this.currentExercise++,this.scrollToElement(this.currentExercise),this.counterInSeconds=this.exerciseArray[this.currentExercise].seconds,u.circleTimerInSeconds=u.exerciseArray[u.currentExercise].seconds},startNextExercise(){u.$timer.start("exerciseTimer")},finishWorkout(){u.$timer.stop("exerciseTimer"),this.showDialog=!0},dialogStayOnPage(){console.log("stay on page"),this.showDialog=!1},dialogBackToRoutines(){console.log("Go back to routines"),this.$router.push("/")},playPauseBtnClick(){this.timerIsRunning?this.$timer.stop("exerciseTimer"):this.$timer.start("exerciseTimer")},fastForwardRewindBtnClick(e){u.$timer.stop("exerciseTimer");let t=this.exerciseArray,s=this.exerciseArray.slice(0,e).reduce((o,m)=>o+m.seconds,0),c=this.exerciseArray.reduce((o,m)=>o+m.seconds,0),n=this.exerciseArray[0].seconds,i=0;for(let o=0;o<s;o++)n--,c--,n==0&&c!=0&&(i++,n=t[i].seconds);u.circleTimerInSeconds=n,this.counterInSeconds=n,this.totalCounter=c,this.currentExercise=i,this.scrollToElement(this.currentExercise)},initData(e){this.$timer.stop("exerciseTimer"),e=="temp"?this.getTempExersices():this.$store.state.routineList[this.$store.state.routineList.findIndex(t=>t.id==this.routeRoutineId)].exercisesEdited.edited==!1?(this.getExerciseArrayIds(),this.getExersices()):this.getEditedExersices(),this.setTotalCounter(),this.setFirstCounterInterval(),this.currentExercise=0,this.circleTimerInSeconds=this.exerciseArray[0].seconds},getExerciseArrayIds(){this.exerciseArrayIds=this.$store.state.routineList.filter(e=>e.id==this.routeRoutineId).map(e=>e.exercises).flat()},getExersices(){this.exerciseArray=[];let e=0;for(let t=0;t<this.routeValueCycles;t++)this.exerciseArrayIds.forEach((s,c)=>{this.exerciseArray.push(this.$store.state.exerciseList[s]),c==this.exerciseArrayIds.length-1&&(this.exerciseArray.splice(t==0?0:(this.exerciseArrayIds.length+1)*t,0,this.$store.getters.getExerciseById(e)),e===0&&(e=2))})},getEditedExersices(){this.exerciseArray=[];let e=0,t=JSON.parse(JSON.stringify(this.$store.state.routineList[this.$store.state.routineList.findIndex(s=>s.id==this.routeRoutineId)].exercisesEdited.exercises.map(s=>s)));for(let s=0;s<this.routeValueCycles;s++)t.forEach((c,n)=>{this.exerciseArray.push(c),n==t.length-1&&(this.exerciseArray.splice(s==0?0:(t.length+1)*s,0,this.$store.getters.getExerciseById(e)),e===0&&(e=2))})},getTempExersices(){this.exerciseArray=[];let e=0,t=JSON.parse(JSON.stringify(this.$store.state.tempRoutine.exercisesEdited.exercises.map(s=>s)));for(let s=0;s<this.routeValueCycles;s++)t.forEach((c,n)=>{this.exerciseArray.push(c),n==t.length-1&&(this.exerciseArray.splice(s==0?0:(t.length+1)*s,0,this.$store.getters.getExerciseById(e)),e===0&&(e=2))})},setTotalCounter(){this.totalCounter=this.exerciseArray.reduce((e,t)=>e+t.seconds,0)},setFirstCounterInterval(){this.counterInSeconds=this.exerciseArray[0].seconds},checkIfResting(e){return e=="Rest"||e=="Recovery"||e=="Prepare"},scrollToElement(e){this.$refs.exercise[e].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},screenSizeEvent(e){e.currentTarget.innerWidth>this.totalWidthCircles?this.centerOrNot="center-temp":this.centerOrNot=""},initialScreenSizeEvent(e){e>this.totalWidthCircles?this.centerOrNot="center-temp":this.centerOrNot=""},mouseDownHandler(e){this.$refs.dots.style.cursor="grabbing",this.$refs.dots.style.userSelect="none",this.pos={left:this.$refs.dots.scrollLeft,top:this.$refs.dots.scrollTop,x:e.clientX,y:e.clientY},this.$refs.dots.addEventListener("mousemove",this.mouseMoveHandler),this.$refs.dots.addEventListener("mouseup",this.mouseUpHandler)},mouseMoveHandler(e){const t=e.clientX-this.pos.x,s=e.clientY-this.pos.y;this.$refs.dots.scrollTop=this.pos.top-s,this.$refs.dots.scrollLeft=this.pos.left-t},mouseUpHandler(){this.$refs.dots.removeEventListener("mousemove",this.mouseMoveHandler),this.$refs.dots.removeEventListener("mouseup",this.mouseUpHandler),this.$refs.dots.style.cursor="grab",this.$refs.dots.style.removeProperty("user-select")}},computed:{timerIsRunning:function(){return this.timers.exerciseTimer.isRunning},playOrPause:function(){return this.timerIsRunning?"/pause-button.svg":"/play-button.svg"},playOrPauseBack:function(){return this.timerIsRunning?"/back-btn-active.svg":"/back-btn-pause.svg"},playOrPauseForward:function(){return this.timerIsRunning?"/forward-btn-active.svg":"/forward-btn-pause.svg"},totalTimeLeft:function(){return new Date(this.totalCounter*1e3).toISOString().slice(14,19)},routeRoutineId:function(){return Number(this.$route.params.id)},routeValueCycles:function(){return this.$route.params.cycles==""||this.$route.params.cycles==null||this.$route.params.cycles=="string"||this.$route.params.cycles<=Number("0")?1:Number(this.$route.params.cycles)},routineName:function(){return this.$route.params.blockName?this.$route.params.blockName:"No name"},isDisabled(){return!this.doesRoutineExist}}},Ge=e=>(E("data-v-1c062ba3"),e=e(),w(),e),Ye={key:0},Ke={class:"center-temp"},Xe={class:"in-row"},Qe=Ge(()=>r("span",{class:"small-gap"},"Total time left: ",-1)),Ze={class:"next-routine"},et={class:"center-temp"},tt=["src"],st=["disabled"],it=["src"],rt=["src"],nt={key:1};function ot(e,t,s,c,n,i){const o=g("CircleTimer"),m=g("ExerciseCircle"),l=g("FinishedExerciseDialog");return a(),d("div",null,[r("button",{id:"back-btn",onClick:t[0]||(t[0]=x=>e.$router.push("/"))}),n.exerciseArray&&n.doesRoutineExist?(a(),d("div",Ye,[r("div",Ke,[r("h1",null,h(i.routineName),1),r("div",Xe,[Qe,r("h3",null,h(" "+i.totalTimeLeft),1)]),k(o,{"timer-is-running":i.timerIsRunning,"count-down-interval":n.circleTimerInSeconds,"count-down-sec":n.counterInSeconds},null,8,["timer-is-running","count-down-interval","count-down-sec"]),r("p",null,h(this.exerciseArray[this.currentExercise].blockName)+" "+h(this.exerciseArray[this.currentExercise].seconds+" s"),1),r("span",Ze,h(i.checkIfResting(this.exerciseArray[this.currentExercise].blockName)?"Next "+this.exerciseArray[this.currentExercise+1].blockName+" "+this.exerciseArray[this.currentExercise+1].seconds+" s":"."),1)]),r("div",{class:y(n.centerOrNot)},[r("div",{ref:"dots",class:"dot-container",onMousedown:t[1]||(t[1]=(...x)=>i.mouseDownHandler&&i.mouseDownHandler(...x))},[(a(!0),d(_,null,I(n.exerciseArray,(x,D)=>(a(),d("span",{class:"circle",key:x.id,ref_for:!0,ref:"exercise"},[k(m,{"timer-is-running":i.timerIsRunning,activeindex:n.currentExercise,circleindex:D,exercise:x},null,8,["timer-is-running","activeindex","circleindex","exercise"])]))),128))],544)],2),r("div",et,[r("nav",null,[r("button",{onClick:t[2]||(t[2]=x=>i.fastForwardRewindBtnClick(this.currentExercise-1))},[r("img",{alt:"back-btn",src:i.playOrPauseBack},null,8,tt)]),r("button",{onClick:t[3]||(t[3]=x=>i.playPauseBtnClick()),disabled:i.isDisabled},[r("img",{alt:"playOrPause",src:i.playOrPause},null,8,it)],8,st),r("button",{onClick:t[4]||(t[4]=x=>i.fastForwardRewindBtnClick(this.currentExercise+1))},[r("img",{alt:"forward-btn",src:i.playOrPauseForward},null,8,rt)])])])])):(a(),d("div",nt,"Sorry, the exercise does not exist")),k(l,{show:n.showDialog,stay:i.dialogStayOnPage,go:i.dialogBackToRoutines,title:"Great job!",description:"Go to Routines or stay?"},null,8,["show","stay","go"])])}var S=p(qe,[["render",ot],["__scopeId","data-v-1c062ba3"]]),ct="/assets/arrow-move.7e5bf504.svg",lt="/assets/arrow-move-up.b2044799.svg";const at={components:{},methods:{downArrow(){this.index<=this.exerciseLength&&this.$emit("down-arrow",this.index)},upArrow(){this.index>0&&this.$emit("up-arrow",this.index)},deleteExercise(){this.$emit("del-exercise",this.index)},changeSec(e){this.$emit("sec-changed",{sec:e.target.value,childIndex:this.index})},changeName(e){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.$emit("name-changed",{name:e.target.value,childIndex:this.index})},800)}},emits:["sec-changed","name-changed","del-exercise","down-arrow","up-arrow"],created(){},props:{exerciseLength:{type:Number,default:0},exercises:{type:Object,default:null},index:{type:Number,default:0},animationdown:{type:String,default:""},animationup:{type:String,default:""}},computed:{rest(){return this.exercises.blockName=="Rest"?"rest-color":"default-color"}},mounted(){},data(){return{timer:null,timerSec:null,secShow:null}}},dt={class:"slide-container"},ut=["value"],ht={class:"rangeValue"},mt={id:"output",name:"sec"},xt=["value"];function pt(e,t,s,c,n,i){return this.exercises?(a(),d("article",{key:0,class:y("list-item "+this.rest+" "+this.animationdown+" "+this.animationup)},[s.index!=s.exerciseLength-1?(a(),d("img",{key:0,onClick:t[0]||(t[0]=(...o)=>i.downArrow&&i.downArrow(...o)),class:"down-arrow",src:ct})):f("",!0),s.index!=0?(a(),d("img",{key:1,onClick:t[1]||(t[1]=(...o)=>i.upArrow&&i.upArrow(...o)),class:"up-arrow",src:lt})):f("",!0),r("div",dt,[r("input",{class:"exercise-name",onInput:t[2]||(t[2]=(...o)=>i.changeName&&i.changeName(...o)),id:"pencil",type:"text",placeholder:"Edit",value:s.exercises.blockName},null,40,ut),r("span",{class:"delete-btn",onClick:t[3]||(t[3]=(...o)=>i.deleteExercise&&i.deleteExercise(...o))}),r("span",ht,[r("output",mt,h(s.exercises.seconds)+"s",1),r("input",{value:String(s.exercises.seconds),onInput:t[4]||(t[4]=(...o)=>i.changeSec&&i.changeSec(...o)),type:"range",min:"1",max:"100",class:"slider",id:"myRange"},null,40,xt)])])],2)):f("",!0)}var ft=p(at,[["render",pt],["__scopeId","data-v-61545f44"]]);const gt={created(){},computed:{exerciseList:function(){return this.$store.state.exerciseList},singleOrMultipleStyles(){return this.singleOrMultiple?{"background-image":"url('/multi-single.svg')"}:{"background-image":"url('/single-multi.svg')"}}},emits:["childCloseExercisePicker","closeAndAddExercises"],methods:{handleExerciseClick(e,t){this.singleOrMultiple?this.addOrDeleteExercise(e):(this.pickedExercisesArr=[],this.pickedExercisesArr.push(e),this.closeAndEmitExercises()),this.styleSelectedExercise(t)},addOrDeleteExercise(e){this.pickedExercisesArr.some(t=>t.id==e.id)?this.pickedExercisesArr=this.pickedExercisesArr.filter(t=>e.id!=t.id):this.pickedExercisesArr.push(e)},styleSelectedExercise(e){this.$refs.exercises[e].classList.value=="selected-exercise"?this.$refs.exercises[e].classList.value="":this.$refs.exercises[e].classList.value="selected-exercise"},closeAndEmitExercises(){this.$emit("closeAndAddExercises",{closeDialog:!1,pickedExercisesArr:this.pickedExercisesArr})},toggleBtn(){this.$refs.exercises.map(e=>e.classList.value=""),this.pickedExercisesArr=[],this.singleOrMultiple=!this.singleOrMultiple},closeDialog(){this.$emit("childCloseExercisePicker",!this.showExercises)}},data(){return{pickedExercisesArr:null,singleOrMultiple:!1}},props:{showExercises:{type:Boolean,default:!1}}},_t={key:0,class:"overlay"},yt={class:"dialog scale-in-center"},vt={class:"dialog__content"},bt={class:"buttons"},kt={class:"in-row"},Et={key:1,class:"header-message"},wt={class:"in-row"},Rt={class:"list-container"},At=["onClick"];function It(e,t,s,c,n,i){return s.showExercises?(a(),d("div",_t,[r("div",yt,[r("div",vt,[r("div",bt,[r("div",kt,[r("button",{onClick:t[0]||(t[0]=(...o)=>i.toggleBtn&&i.toggleBtn(...o)),class:"img-btn",style:O(i.singleOrMultipleStyles)},null,4),n.singleOrMultiple?(a(),d("button",{key:0,onClick:t[1]||(t[1]=(...o)=>i.closeAndEmitExercises&&i.closeAndEmitExercises(...o)),class:"button"}," Add all selected exercises ")):f("",!0),n.singleOrMultiple?f("",!0):(a(),d("span",Et,"Select exercise"))]),r("div",wt,[r("button",{class:"cross-btn",onClick:t[2]||(t[2]=(...o)=>i.closeDialog&&i.closeDialog(...o))})])]),r("section",Rt,[(a(!0),d(_,null,I(i.exerciseList,(o,m)=>(a(),d("article",{ref_for:!0,ref:"exercises",key:o.id,onClick:l=>i.handleExerciseClick(o,m)},[r("h2",null,h(o.blockName),1),r("h2",null,h(o.seconds+" s"),1)],8,At))),128))])])])])):f("",!0)}var Nt=p(gt,[["render",It],["__scopeId","data-v-321f1219"]]),Ct="/assets/exercise-icon-list.fa49952b.svg",$t="/assets/exercise-icon-blanc.97bde7a4.svg",St="/assets/rest-icon.76ec7893.svg";const Lt={components:{ExerciseBlock:ft,PickExerciseBlock:Nt},created(){this.$watch(()=>this.$route.params.id,(e,t)=>{let s=e;this.$store.getters.checkIfRoutineExists(s)?this.init():this.doesRoutineExist=!1},{immediate:!0}),this.$store.commit("clearSavedId")},beforeUnmount(){this.exerciseArrayIds=null,this.exerciseArray=null},data(){return{showMenu:"hideMenu",hideOrShow:!1,routineId:null,exerciseArrayIds:null,exerciseArray:null,doesRoutineExist:!0,isSaved:!1,routineNameChanged:null,animationIndexDown:null,animationIndexUp:null,showPickExerciseBlock:!1}},computed:{checkRests:function(){if(this.exerciseArray)if(this.exerciseArray.length>=1){let e=this.exerciseArray.at(-1).blockName!="Rest";return!!(this.exerciseArray.filter(function(c,n){return n%2!==0}).every(c=>c.blockName=="Rest")&&e===!0)}else return!1;else return!0},getRoutePathName:function(){return this.$route.fullPath},savedNewId:function(){return this.$store.state.savedNewId},routeRoutineId:function(){return this.savedNewId?this.savedNewId:Number(this.$route.params.id)},routeRoutineName:function(){return this.$route.params.blockName},isDisabled(){return!this.doesRoutineExist}},methods:{closeAndAddExercises({closeDialog:e,pickedExercisesArr:t}){this.showPickExerciseBlock=e,this.exerciseArray=this.exerciseArray.concat(t)},closeExercisePicker(e){this.showPickExerciseBlock=e},upArrow(e){let t=1,s=e,c=e-1;const n=this.exerciseArray.splice(s,t)[0];t=0,this.exerciseArray.splice(c,t,n),this.animationIndexDown=null,this.animationIndexUp=c},downArrow(e){let t=1,s=e,c=e+1;const n=this.exerciseArray.splice(s,t)[0];t=0,this.exerciseArray.splice(c,t,n),this.animationIndexUp=null,this.animationIndexDown=c},createNewBlock(e){switch(e){case"fromlist":this.showPickExerciseBlock=!0;break;case"empty":this.exerciseArray.push(this.$store.state.exerciseList["21"]);break;case"rest":this.exerciseArray.push(this.$store.state.exerciseList["1"]);break}},toggleMenu(){this.hideOrShow=!this.hideOrShow,this.hideOrShow?this.showMenu="showMenu":this.showMenu="hideMenu"},getExerciseArrayIds(){this.exerciseArrayIds=this.$store.state.routineList.filter(e=>e.id==this.routeRoutineId).map(e=>e.exercises).flat()},getExersices(){this.exerciseArray=JSON.parse(JSON.stringify(this.exerciseArrayIds.map(e=>this.$store.state.exerciseList[e])))},getEditedExersices(){this.exerciseArray=JSON.parse(JSON.stringify(this.$store.state.routineList[this.$store.state.routineList.findIndex(e=>e.id==this.routeRoutineId)].exercisesEdited.exercises.map(e=>e)))},init(){this.$store.state.routineList[this.$store.state.routineList.findIndex(e=>e.id==this.routeRoutineId)].exercisesEdited.edited==!1?(this.getExerciseArrayIds(),this.getExersices()):this.getEditedExersices()},startRoutineRouterLink(){this.isSaved?this.$router.push({name:"exercise",params:{id:this.routeRoutineId,blockName:this.routeRoutineName,cycles:"1"}}):(this.$store.commit("updateTempRoutine",{exArr:this.exerciseArray}),this.$router.push({name:"exercise",params:{id:"temp",blockName:"tempname",cycles:"1"}}))},saveEditedRoutine(){this.$store.commit("updateEditedRoutine",{exArr:this.exerciseArray,updateId:this.routeRoutineId}),this.isSaved=!0,console.log("saved")},deleteExercise(e){this.exerciseArray=this.exerciseArray.filter((t,s)=>e!=s),this.isSaved=!1},onSecChanged({sec:e,childIndex:t}){this.exerciseArray=this.exerciseArray.map((s,c)=>t==c?b(v({},s),{seconds:Number(e)}):s),this.isSaved=!1},onNameChanged({name:e,childIndex:t}){this.exerciseArray=this.exerciseArray.map((s,c)=>t==c?b(v({},s),{blockName:e}):s),this.isSaved=!1},fixRest(){let e=[],t=this.exerciseArray.filter(s=>s.blockName!="Rest");for(let s=0;s<=t.length-1;s++)e.push(t[s]),s<=t.length-2&&e.push(this.$store.getters.getExerciseById("1"));this.exerciseArray=e}},props:{id:{type:String,default:null},blockName:{type:String,default:null},exercises:{type:Object,default:null}}},R=e=>(E("data-v-3891de6a"),e=e(),w(),e),Ot={class:"header"},Dt=R(()=>r("br",null,null,-1)),Tt=["disabled"],Bt={key:0,class:"list-container"},Pt={key:1},Mt={class:"menu-container"},Vt=["disabled"],Wt=["disabled"],Ft={class:"dropup"},Ut=R(()=>r("br",null,null,-1)),jt=[Ut],Ht=R(()=>r("img",{src:Ct},null,-1)),Jt=[Ht],zt=R(()=>r("img",{src:$t},null,-1)),qt=[zt],Gt=R(()=>r("img",{src:St},null,-1)),Yt=[Gt];function Kt(e,t,s,c,n,i){const o=g("ExerciseBlock"),m=g("PickExerciseBlock");return a(),d(_,null,[r("div",Ot,[r("button",{id:"back-btn",onClick:t[0]||(t[0]=l=>e.$router.push("/"))})]),A(r("input",{class:"routine-name",id:"pencil",type:"text",placeholder:"ROUTINE","onUpdate:modelValue":t[1]||(t[1]=l=>this.routeRoutineName=l)},null,512),[[N,this.routeRoutineName]]),Dt,r("button",{class:"fix-add-rest",onClick:t[2]||(t[2]=(...l)=>i.fixRest&&i.fixRest(...l)),disabled:i.checkRests}," Add/Fix rests (every other) ",8,Tt),n.exerciseArray&&n.doesRoutineExist?(a(),d("section",Bt,[(a(!0),d(_,null,I(n.exerciseArray,(l,x)=>(a(),F(o,{key:l+x,animationdown:this.animationIndexDown==x?"animatedown":"",animationup:this.animationIndexUp==x?"animateup":"",exercises:l,index:x,"exercise-length":this.exerciseArray.length,onSecChanged:i.onSecChanged,onNameChanged:i.onNameChanged,onDelExercise:i.deleteExercise,onUpArrow:i.upArrow,onDownArrow:i.downArrow},null,8,["animationdown","animationup","exercises","index","exercise-length","onSecChanged","onNameChanged","onDelExercise","onUpArrow","onDownArrow"]))),128))])):(a(),d("section",Pt,"Sorry, this routine does not exist")),r("div",Mt,[r("button",{class:y(["save-btn",{"save-btn":!n.isSaved,"saved-btn":n.isSaved}]),id:"save-btn",disabled:i.isDisabled,onClick:t[3]||(t[3]=(...l)=>i.saveEditedRoutine&&i.saveEditedRoutine(...l))},h(n.isSaved?"Saved!":"Save"),11,Vt),r("button",{class:"startbtn",id:"start-btn",disabled:i.isDisabled,onClick:t[4]||(t[4]=(...l)=>i.startRoutineRouterLink&&i.startRoutineRouterLink(...l))},null,8,Wt),r("div",Ft,[r("button",{class:"dropbtn",onClick:t[5]||(t[5]=(...l)=>i.toggleMenu&&i.toggleMenu(...l))},jt),r("div",{class:y(`dropup-content ${n.showMenu}`)},[r("a",{onClick:t[6]||(t[6]=l=>i.createNewBlock("fromlist"))},Jt),r("a",{onClick:t[7]||(t[7]=l=>i.createNewBlock("empty"))},qt),r("a",{onClick:t[8]||(t[8]=l=>i.createNewBlock("rest"))},Yt)],2)])]),k(m,{onCloseAndAddExercises:i.closeAndAddExercises,"show-exercises":n.showPickExerciseBlock,onChildCloseExercisePicker:i.closeExercisePicker},null,8,["onCloseAndAddExercises","show-exercises","onChildCloseExercisePicker"])],64)}var L=p(Lt,[["render",Kt],["__scopeId","data-v-3891de6a"]]),Xt=U({history:j(),routes:[{component:ye,path:"/"},{component:S,path:"/exercise/:id",name:"exercise",props:!0},{component:S,path:"/exercise",name:"testcaseexercise"},{component:L,path:"/edit/:id",name:"details",props:!0},{component:L,path:"/edit",name:"create",props:!0}]});const Qt={addDuration(e,t){e.routineList.forEach(s=>{this.getters.getRoutineById(s.id).duration=this.getters.calculateRoutineTimeByRoutineId(s.id)})},updateEditedRoutine(e,{exArr:t,updateId:s}){s==0?(e.routineList.push(e.routineList[0]),e.routineList[e.routineList.length-1]=b(v({},e.routineList.at(-1)),{id:e.routineList.length-1,show:!0,exercisesEdited:{edited:!0,exercises:t}}),e.savedNewId=e.routineList.length-1):e.routineList[e.routineList.findIndex(c=>c.id==s)].exercisesEdited={edited:!0,exercises:t}},updateTempRoutine(e,{exArr:t}){e.tempRoutine=b(v({},e.tempRoutine),{id:"temp",show:!0,blockName:"changed temp",exercisesEdited:{edited:!0,exercises:t}})},clearSavedId(e){e.savedNewId=null}},Zt={savedNewId:null,tempRoutine:{id:"temp",show:!0,blockName:"Temp",seconds:30,resting:!0,color:"blue",exercises:[21,1],exercisesEdited:{edited:!1,exercises:[]}},routineList:[{id:0,show:!1,blockName:"...",seconds:30,resting:!0,color:"blue",exercises:[21,1,21,1,21],exercisesEdited:{edited:!1,exercises:[]}},{id:1,show:!0,blockName:"FULL BODY",seconds:30,resting:!0,duration:0,color:"blue",exercises:[3,1,4,1,5,1,6,1,7,1,8],exercisesEdited:{edited:!1,exercises:[]}},{id:2,show:!0,blockName:"UPPER BODY",seconds:30,duration:0,resting:!0,color:"green",exercises:[9,1,10,1,11,1,12,1,13,1,14],exercisesEdited:{edited:!1,exercises:[]}},{id:3,show:!0,blockName:"LOWER BODY",seconds:30,duration:0,resting:!1,color:"red",exercises:[15,1,16,1,17,1,18,1,19,1,20],exercisesEdited:{edited:!1,exercises:[]}}],exerciseList:{0:{id:0,blockName:"Prepare",seconds:5,resting:!1,color:"red"},1:{id:1,blockName:"Rest",seconds:10,resting:!1,color:"red"},2:{id:2,blockName:"Recovery",seconds:20,resting:!1,color:"darkred"},3:{id:3,blockName:"Push-Ups",seconds:15,resting:!0,color:"blue"},4:{id:4,blockName:"Squats",seconds:22,resting:!0,color:"green"},5:{id:5,blockName:"Burpees",seconds:5,resting:!0,color:"blue"},6:{id:6,blockName:"Bicycle Crunches",seconds:3,resting:!0,color:"skyblue"},7:{id:7,blockName:"Mountain Climbers",seconds:3,resting:!0,color:"steelblue"},8:{id:8,blockName:"Plank",seconds:3,resting:!0,color:"teal"},9:{id:9,blockName:"Push-Up Side Plank",seconds:3,resting:!0,color:"violet"},10:{id:10,blockName:"Situps",seconds:3,resting:!0,color:"turquoise"},11:{id:11,blockName:"Superman",seconds:3,resting:!0,color:"coral"},12:{id:12,blockName:"Leg Raises",seconds:3,resting:!0,color:"pink"},13:{id:13,blockName:"Elbow Lifts",seconds:3,resting:!0,color:"darkorange"},14:{id:14,blockName:"Triceps Dips",seconds:3,resting:!0,color:"forestgreen"},15:{id:15,blockName:"Jumping Lunges",seconds:3,resting:!0,color:"fuchsia"},16:{id:16,blockName:"Side Squats",seconds:3,resting:!0,color:"gold"},17:{id:17,blockName:"High Knees",seconds:3,resting:!0,color:"indigo"},18:{id:18,blockName:"Glute Bridge March",seconds:3,resting:!0,color:"lime"},19:{id:19,blockName:"Toe Raises",seconds:3,resting:!0,color:"maroon"},20:{id:20,blockName:"Bulgarian Split Squats",seconds:4,resting:!0,color:"orchid"},21:{id:21,blockName:"",seconds:1,resting:!1,color:"red"}}},es={checkIfRoutineExists:e=>t=>e.routineList.some(s=>s.id==t),checkIExerciseExists:e=>t=>{let s=!1;for(const c of Object.values(e.exerciseList))if(c.id==t){s=!0;break}return s},getRoutineById:(e,t)=>s=>{let c=null;return t.checkIfRoutineExists(s)?c=e.routineList.find(n=>n.id==s):console.log("Routine ID does not exist!"),c},getExerciseById:(e,t)=>s=>{let c=null;return t.checkIExerciseExists(s)?c=e.exerciseList[s]:console.log("Routine ID does not exist!"),c},getListOfExercisesByRoutineId:(e,t)=>s=>{let c=[];return t.checkIfRoutineExists(s)?e.routineList.find(i=>i.id===s).exercises.forEach(i=>{c.push(e.exerciseList[i])}):console.log("Routine ID does not exist!"),c},calculateRoutineTimeByRoutineId:(e,t)=>s=>{let c=0,n=0;return t.checkIfRoutineExists(s)?(t.getListOfExercisesByRoutineId(s).forEach(o=>{c+=o.seconds}),n=Math.round(c/60)):console.log("Routine ID does not exist!"),n}};var ts=H({mutations:Qt,state:Zt,getters:es,strict:!0});function ss(e={}){const{immediate:t=!1,onNeedRefresh:s,onOfflineReady:c,onRegistered:n,onRegisterError:i}=e;let o;const m=async(l=!0)=>{};return"serviceWorker"in navigator&&(o=new J("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",l=>{l.isUpdate?window.location.reload():c==null||c()}),o.register({immediate:t}).then(l=>{n==null||n(l)}).catch(l=>{i==null||i(l)})),m}z(X).use(Xt).use(ts).use(q).mount("#app");ss();
